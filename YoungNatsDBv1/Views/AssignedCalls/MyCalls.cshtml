@model IEnumerable<YoungNatsDBv1.DataModels.AssignedCall>

@{
    ViewBag.Title = "MyCalls";
}

<h2>Calls assigned to @ViewBag.name</h2>

<table class="table">
    <tr>
        <th>
            Call assigned by
        </th>
        <th>
            Number
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateTimeAssigned)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CallCompleted)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.KnownIndividual.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PhoneNumber.PhoneNumber1)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateTimeAssigned)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CallCompleted)
        </td>
        <td>
            @Html.ActionLink("Make call", "NewCall", "PhoneCalls", new { AssignedCallId = item.AssignedCallId }, new object { }) |
            @Html.ActionLink("Mark as complete", "MarkAsComplete", new { id = item.AssignedCallId })
        </td>
    </tr>
}

</table>
